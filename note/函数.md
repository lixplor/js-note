# 函数

## 定义函数

组成部分
* 函数名
* 参数列表:
    - `()`中, 由`,`分隔
    - **原始参数** 是形式的, 在函数内部改变后, 不会影响函数外部或全局的
    - **对象参数** 如Array或自定义对象, 如果函数改变了该对象的属性, 则函数外部对象的属性也会改变
* 函数功能:
    - `{}`中

```javascript
// 定义平方函数
function square(num){
    return num * num;
}
console.log(square(2));

// 原始参数不会改变
var a = 1;
function add(a){
    a += 1;
    console.log(a);
}
add(a); // 2
console.log(a); // 1

// 对象参数会被函数改变
var obj = {
    age:1
};
function grow(obj){
    obj.age += 1;
    console.log(obj.age);
}
grow(obj); // 2
console.log(obj.age); //2
```

### 函数表达式

* 有名称
* 匿名

```javascript
// 有名称
function haveName(){
    console.log('I have name');
}

// 匿名
var noName = function(){
    console.log('I dont have name');
}
noName();
```

## 调用函数

* `函数域`
函数声明时所在的域
* 注意
    - 函数一定要处于调用他们的域中
    - 函数的声明也可以在调用语句之后
* 函数可以递归

```javascript
// 函数定义可以在调用语句之后
console.log(square(5));
function square(num){
    return num * num;
}

// 匿名函数也可以, 只要变量通过var定义
console.log(square(5));
var square = function(num){
    return num * num;
}

// 递归函数
function factorial(n){
  if ((n == 0) || (n == 1))
    return 1;
  else
    return (n * factorial(n - 1));
}
console.log(factorial(4));
```

## 函数作用域

* 函数内定义的变量不能从函数外获取, 因为该变量仅在函数的域内部有效
* 函数可以获取它 **所在域** 定义的任何变量和子函数
* 定义在全局中的函数可以获取所有定义在全局域的变量
* 定义在函数内部的子函数, 可以获取定义在父函数中的变量

## 作用域和函数堆栈(scope and function stack)
